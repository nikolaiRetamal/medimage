CREATE KEYSPACE medimage WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 1 };
DROP KEYSPACE cassandra_defautl_sample;

CREATE TABLE medimage.dicom (
    id_dicom uuid,
    date_import timestamp,
    nom text,
    id_user int,
    id_usage int,
    tag list<text>,
    metadata map<text,text>,
    PRIMARY KEY (id_dicom)
);

CREATE index ON medimage.dicom(tag);
CREATE index ON medimage.dicom (metadata);

INSERT INTO medimage.dicom (id_dicom, date_import, nom, id_user, id_usage, metadata)  VALUES ( now(), now(), 'gerard', 1,2,{});




INSERT INTO medimage.dicom (id_dicom, date_import, nom, id_user, id_usage, tag, metadata)
  VALUES ( now(), dateof(now()), 'gerard', 1,2,['obiwan','luke','dark'],{'key1' : 'Mabite'});
  
  SELECT *
  FROM medimage.dicom
  WHERE metadata['maBite'] = 'JeanLuc';
  
  
  ALTER TABL